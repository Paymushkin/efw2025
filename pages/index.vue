<template>
  <div class="w-full max-w-full overflow-x-hidden">
    <AppSeo
      title="Emirates Fashion Week | Dubai 2025 | 14th Season | Spring Summer 26 | 8‚Äì11 November"
      description="Emirates Fashion Week Dubai 2025 celebrates its 14th Season (Spring/Summer 26) on 8‚Äì11 November at Skylight Gallery, Arjaan by Rotana, Dubai Media City. Featuring 2 days of runway shows and 2 days of 40 fashion pop-ups & 60 beauty services market. Since 2019, EFW has showcased 350+ designers and trained 1200+ models."
      keywords="Emirates Fashion Week, Dubai Fashion, Fashion Shows Runways Dubai, Beauty Exhibition UAE, Fashion Pop-up Market Dubai, Designer Collections, Beauty Services Dubai, Fashion Week 2025 Dubai"
      schema-type="event"
      :event-data="{
        name: 'Emirates Fashion Week Dubai 2025 - 14th Season Spring Summer 26',
        description: 'Emirates Fashion Week Dubai 2025 celebrates its 14th Season (Spring/Summer 26) on 8‚Äì11 November at Skylight Gallery, Arjaan by Rotana, Dubai Media City.',
        startDate: '2025-11-08T00:00:00+04:00',
        endDate: '2025-11-11T23:59:59+04:00',
        location: {
          name: 'Skylight Gallery, Arjaan by Rotana, Dubai Media City'
        }
      }"
    />
    <ClientOnly>
      <HeroSection id="hero-section" key="hero-section" class="mb-[56px] md:mb-[76px]" />
    </ClientOnly>
    <!-- <ClientOnly>
      <CurrentProgramSection class="md:mb-[120px] mb-[76px]" />
    </ClientOnly> -->

    <ClientOnly>
      <template #default>
        <PreviousSeasonsSection id="previous-seasons" key="previous-seasons-wrapper" class="mb-[56px] md:mb-[76px]" />
      </template>
      <template #fallback>
        <div class="mb-[56px] md:mb-[76px]"></div>
      </template>
    </ClientOnly>

    <ClientOnly>
      <MarqueeSection id="marquee" key="marquee-section" :content="sponsors" class="mb-[56px] md:mb-[76px]" />
    </ClientOnly>

    <ClientOnly>
      <NewProgramSection id="spring-summer-2026" key="new-program-section" class="md:mb-[120px] mb-[76px]" />
    </ClientOnly>

    
    <DesignerRunwaySection id="runway" key="designer-runway-section" class="md:mb-[76px] mb-[56px]" />
    
    <ClientOnly>
      <MagazineCarousel id="magazine" key="magazine-carousel" class="md:mb-[76px] mb-[56px]" />
    </ClientOnly>

    <ClientOnly>
      <template #default>
        <ProgramSection id="fall-winter-2025" key="program-section-fall-winter" class="md:mb-[76px] mb-[56px]" />
      </template>
      <template #fallback>
        <div class="md:mb-[76px] mb-[56px]"></div>
      </template>
    </ClientOnly>

    <DesignersSection  id="designers" key="designers-section-component" class="md:mb-[36px] mb-[16px]" />

    <SponsorsSection key="sponsors-section" id="partners-media" class="md:mb-[76px] mb-[56px]" />

    <ClientOnly>
      <StatisticsSection id="statistics" key="statistics-section" class="md:mb-[76px] mb-[56px]" />
    </ClientOnly>

    <EventFeatures id="features-access" key="event-features" class="container mx-auto px-4 md:mb-[76px] mb-[56px]" :data="featuresData.featuresDataPromo" />

    <ClientOnly>
      <template #default>
        <FacesOfEfwSection id="faces-efw" key="faces-efw-component" class="container mx-auto px-4 md:mb-[36px] mb-[16px]"/>
      </template>
      <template #fallback>
        <div class="md:mb-[36px] mb-[16px]"></div>
      </template>
    </ClientOnly>


    <ClientOnly>
      <template #default>
        <ImageCarousel 
          id="economy-dubai"
          key="image-carousel"
          title="We invest in and support the economy of Dubai | UAE"
          class="container mx-auto px-4 md:mb-[76px] mb-[56px]"
        />
      </template>
      <template #fallback>
        <div class="md:mb-[76px] mb-[56px]"></div>
      </template>
    </ClientOnly>

    <ClientOnly>
      <template #default>
        <FaqSectionDynamic id="faq" key="faq-section" class="mb-[56px] md:mb-[76px]" />
      </template>
      <template #fallback>
        <div class="mb-[56px] md:mb-[76px]"></div>
      </template>
    </ClientOnly>
    
  </div>
</template>

<script setup>
definePageMeta({
  layout: 'default'
});

import { onMounted, nextTick } from 'vue';

// Components
import HeroSection from '@/components/HeroSection.vue';
import HowItWasSection from '~/components/PreviousSeasonsSection.vue';
import CurrentProgramSection from '~/components/CurrentProgramSection.vue';
import NewProgramSection from '~/components/NewProgramSection.vue';
import ProgramSection from '~/components/ProgramSection.vue';
import DesignersSection from '~/components/DesignersSection.vue';
import MagazineCarousel from '~/components/MagazineCarousel.vue';
import DesignerRunwaySection from '~/components/DesignerRunwaySection.vue';
import SponsorsSection from '~/components/SponsorsSection.vue';
import StatisticsSection from '@/components/StatisticsSection.vue';
import MarqueeSection from '~/components/MarqueeSection.vue';
import ImageCarousel from '~/components/ImageCarousel.vue';
import EventFeatures from '~/components/EventFeatures.vue';
import AppSeo from '@/components/AppSeo.vue';
import FaqSectionDynamic from '~/components/FaqSectionDynamic.vue';
import FacesOfEfwSection from '@/components/FacesOfEfwSection.vue';

// Constants and Assets
import { FEATURES_DATA } from '~/constants/featuresData';
import sponsor1 from '@/assets/image/sponsor-logo.webp';
import sponsor2 from '@/assets/image/sponsor-logo.webp';
import sponsor3 from '@/assets/image/sponsor-logo.webp';
import sponsor4 from '@/assets/image/sponsor-logo.webp';

const sponsors = [sponsor1, sponsor2, sponsor3, sponsor4];
const featuresData = FEATURES_DATA;

// –§—É–Ω–∫—Ü–∏—è –ø–ª–∞–≤–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∫ —Å–µ–∫—Ü–∏–∏ –ø–æ —Ö–µ—à—É
const scrollToHash = () => {
  if (!process.client) return;
  
  const hash = window.location.hash;
  
  if (hash) {
    // –£–±–∏—Ä–∞–µ–º # –∏–∑ —Ö–µ—à–∞
    const targetId = hash.substring(1);
    
    // –ñ–¥–µ–º, –ø–æ–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∑—è—Ç—Å—è
    nextTick(() => {
      setTimeout(() => {
        const targetElement = document.getElementById(targetId);
        
        if (targetElement) {
          // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç—É
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
          
          console.log(`‚úÖ –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Å–µ–∫—Ü–∏–∏: #${targetId}`);
        } else {
          console.log(`‚ùå –≠–ª–µ–º–µ–Ω—Ç —Å id="${targetId}" –Ω–µ –Ω–∞–π–¥–µ–Ω`);
        }
      }, 500); // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ ClientOnly –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    });
  }
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
onMounted(() => {
  if (!process.client) return;
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã ID
  const checkDuplicateIds = () => {
    const ids = ['faces-efw', 'designers', 'fall-winter-2025', 'previous-seasons', 'features-access', 'economy-dubai', 'faq'];
    ids.forEach((id) => {
      const elements = document.querySelectorAll(`#${id}`);
      if (elements.length > 1) {
        console.warn(`‚ö†Ô∏è –ù–∞–π–¥–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ID: #${id} (${elements.length} —ç–ª–µ–º–µ–Ω—Ç–æ–≤)`);
        // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º
        elements.forEach((el, index) => {
          if (index > 0) {
            el.id = `${id}-duplicate-${index}`;
            console.warn(`  –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω —ç–ª–µ–º–µ–Ω—Ç #${index + 1} –≤ #${el.id}`);
          }
        });
      }
    });
  };
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  setTimeout(() => {
    checkDuplicateIds();
  }, 1000);
  
  // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Ö–µ—à—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  scrollToHash();
  
  // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ö–µ—à–∞ –≤ URL
  window.addEventListener('hashchange', scrollToHash);
  
  console.log('üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω');
});
</script>
