import{L as h,r,c as b,k as f,o as g,a as t,h as C,M as m,N as d,n as E,t as p,O as B}from"./LLcRaQyh.js";const M={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},N={class:"bg-white p-6 rounded-lg max-w-md w-full mx-4"},O={key:0,class:"mt-1 text-sm text-red-500"},U=["disabled"],j={__name:"ContactForm",props:{isOpen:Boolean},emits:["close"],setup(x,{emit:v}){const c=v,s=h({name:"",email:"",message:""}),l=r(""),n=r(!1),i=r(!1),u=r(!1),y=B(),w=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),k=()=>{c("close"),s.name="",s.email="",s.message="",l.value="",i.value=!1,u.value=!1},S=async()=>{if(l.value="",!w(s.email)){l.value="Please enter a valid email address";return}n.value=!0;try{const a=`${y.public.apiBase}/send-email`;console.log("Sending request to:",a);const e=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.name,email:s.email,message:s.message})});if(!e.ok){const T=await e.text();throw console.error("Server response:",T),new Error(`HTTP error! status: ${e.status}`)}const o=await e.json();console.log("Success:",o),i.value=!0,s.name="",s.email="",s.message="",setTimeout(()=>{i.value=!1,c("close")},3e3)}catch(a){console.error("Error sending message:",a),u.value=!0,setTimeout(()=>{u.value=!1},3e3)}finally{n.value=!1}};return(a,e)=>x.isOpen?(g(),b("div",M,[t("div",N,[t("div",{class:"flex justify-between items-center mb-6"},[e[3]||(e[3]=t("h3",{class:"text-xl font-semibold"},"Contact Us",-1)),t("button",{onClick:k,class:"text-gray-500 hover:text-gray-700 text-2xl leading-none"}," Ã— ")]),t("form",{onSubmit:C(S,["prevent"]),class:"space-y-4"},[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Name",-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.name=o),type:"text",required:"",class:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black"},null,512),[[d,s.name]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.email=o),type:"email",required:"",class:E(["w-full px-3 py-2 text-black border rounded-md focus:outline-none focus:ring-2 focus:ring-black",l.value?"border-red-500":"border-gray-300"])},null,2),[[d,s.email]]),l.value?(g(),b("p",O,p(l.value),1)):f("",!0)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Message",-1)),m(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.message=o),required:"",rows:"4",class:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black"},null,512),[[d,s.message]])]),t("button",{type:"submit",disabled:n.value,class:"w-full bg-black text-white py-2 rounded-md hover:bg-opacity-90 transition-colors disabled:bg-gray-400"},p(n.value?"Sending...":"Send Message"),9,U)],32)])])):f("",!0)}};export{j as _};
