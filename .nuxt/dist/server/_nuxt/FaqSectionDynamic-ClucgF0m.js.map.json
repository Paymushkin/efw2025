{"file":"FaqSectionDynamic-ClucgF0m.js","mappings":"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","names":["_ssrRenderList","_ssrInterpolate"],"sources":["../../../../components/FaqSectionDynamic.vue"],"sourcesContent":["<template>\n  <section :class=\"[\n    'container mx-auto px-4',\n    { 'py-20 md:py-[100px]': !standalone },\n    { 'py-[60px] md:py-[120px]': standalone }\n  ]\">\n  <h2 id=\"faq\" data-nosnippet class=\"text-xl md:text-3xl xl:text-4xl mb-8 md:mb-12\">\n      <template v-if=\"standalone\">\n        <a href=\"#faq\" class=\"hover:opacity-80 transition-opacity\">Frequently Asked Questions</a>\n      </template>\n      <template v-else>\n        <a href=\"#faq\" class=\"hover:opacity-80 transition-opacity\">FREQUENTLY ASKED QUESTIONS</a>\n      </template>\n    </h2>\n    \n    <!-- Индикатор загрузки -->\n    <div v-if=\"loading\" class=\"flex justify-center items-center py-8\">\n      <div class=\"text-gray-500\">Loading Frequently Asked Questions...</div>\n    </div>\n\n    <!-- Сообщение об ошибке -->\n    <div v-else-if=\"error\" class=\"text-center py-8\">\n      <div class=\"text-red-500 mb-4\">Error loading Frequently Asked Questions: {{ error }}</div>\n      <button \n        @click=\"handleRefresh\"\n        class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n      >\n        Retry\n      </button>\n    </div>\n\n    <!-- FAQ контент -->\n    <div v-else class=\"flex flex-col gap-4\">\n      <div\n        v-for=\"item in displayedItems\"\n        :key=\"item.id\"\n        :id=\"item.id\"\n      >\n        <div \n          class=\"border border-black cursor-pointer\"\n          @click=\"togglePanel(item.id)\"\n        >\n          <div \n            class=\"w-full p-4 md:p-6 flex justify-between items-start hover:bg-gray-50\"\n            :class=\"{ 'border-b border-black': openPanels[item.id] }\"\n          >\n            <span class=\"text-base md:text-xl xl:text-2xl pr-8 text-left\">{{ item.question }}</span>\n            <span \n              class=\"text-2xl transform transition-transform duration-300 flex-shrink-0\"\n              :class=\"{ 'rotate-45': openPanels[item.id] }\"\n            >+</span>\n          </div>\n\n          <transition\n            enter-active-class=\"transition duration-500 ease-out\"\n            enter-from-class=\"transform scale-y-95 -translate-y-1 opacity-0\"\n            enter-to-class=\"transform scale-y-100 translate-y-0 opacity-100\"\n            leave-active-class=\"transition duration-400 ease-in-out\"\n            leave-from-class=\"transform scale-y-100 translate-y-0 opacity-100\"\n            leave-to-class=\"transform scale-y-95 -translate-y-1 opacity-0\"\n          >\n            <div \n              v-show=\"openPanels[item.id]\"\n              class=\"p-4 md:p-6 text-sm md:text-base xl:text-lg text-black-70 border-t border-black origin-top\"\n            >\n              {{ item.answer }}\n            </div>\n          </transition>\n        </div>\n      </div>\n    </div>\n\n  </section>\n</template>\n\n<script setup>\nimport { ref, onMounted, nextTick, computed, onUnmounted } from 'vue';\nimport { useRoute } from 'vue-router';\n\nconst props = defineProps({\n  standalone: {\n    type: Boolean,\n    default: false\n  }\n});\n\nconst route = useRoute();\nconst initialHash = ref(route.hash.slice(1));\nconst displayLimit = 5;\n\n// Состояние для FAQ данных\nconst faqItems = ref([]);\nconst loading = ref(false);\nconst error = ref('');\n\n// Fallback данные на случай ошибки загрузки\nconst fallbackFaqItems = [\n  {\n    id: 'ai-matchmaking',\n    question: 'What is the AI matchmaking tool? How does it work?',\n    answer: 'The AI matchmaking tool is available on laptops at each exhibitor station. Organizers will introduce at least 50 visitor leads to every exhibitor through chat. Some visitors will approach the station directly, while others will be connected via chat for online introductions and follow-ups.'\n  },\n  {\n    id: 'visitor-passes',\n    question: 'Are visitor passes free? How many invites are out? What\\'s the audience profile?',\n    answer: 'Visitor entry is free. We usually welcome 300–700 guests, depending on the show. For April 15, we expect 300–500 attendees throughout the day. Our audience is diverse and international, mainly beauty- and fashion-conscious individuals from mid- to high-income backgrounds. We do not track nationality at registration.'\n  },\n  {\n    id: 'buyers',\n    question: 'Who are the \\'Buyers\\'? What\\'s their ratio to media, influencers, stylists, bloggers?',\n    answer: 'Buyers include individuals purchasing for themselves and for retail stores. We don\\'t publish an exact ratio, but the crowd includes a mix of media, influencers, stylists, bloggers, and direct buyers.'\n  },\n  {\n    id: 'no-showcase',\n    question: 'What if I don\\'t want a showcase station but still want to engage buyers?',\n    answer: 'You can attend for free, observe how other beauty service providers present their services, and interact with the audience. Many providers offer special promotions and discounts to visitors.'\n  },\n  {\n    id: 'example-brands',\n    question: 'What are some example brands in the business showcase corner?',\n    answer: 'Over 30 brands are confirmed — including designers from the Middle East, CIS, Eastern Europe, and local UAE talents. We also host a wide range of beauty service providers: clinics, plastic surgery, botox, fitness, cosmetology, nails, lashes, brows, hair, and styling.'\n  }\n];\n\n// Функция для загрузки FAQ данных (используем тот же подход, что и у компаний)\nconst fetchFAQ = async () => {\n  try {\n    loading.value = true;\n    error.value = '';\n    \n      // Определяем, работаем ли мы локально или на продакшене\n      const isLocal = process.client && (\n        window.location.hostname.includes('localhost') || \n        window.location.hostname.includes('127.0.0.1') ||\n        window.location.hostname.includes('0.0.0.0')\n      );\n      \n      if (isLocal) {\n        // Локально используем API\n        try {\n          const response = await $fetch('/api/faq', {\n            query: { _t: Date.now() } // Добавляем timestamp для предотвращения кеширования\n          });\n          if (response.success) {\n            faqItems.value = response.faq || [];\n          } else {\n            error.value = response.error || 'Ошибка загрузки данных';\n          }\n        } catch (apiError) {\n          console.error('API error:', apiError);\n          // Если API не работает, используем fallback данные\n          faqItems.value = fallbackFaqItems;\n        }\n      } else {\n        // На продакшене (GitHub Pages) используем прямые запросы к Google Sheets\n        try {\n          const SPREADSHEET_ID = '1z3JLJVzDADNCa6oSq3R701xLB8K5yyuCFlPZpSMXa1s';\n          const CSV_URL = `https://docs.google.com/spreadsheets/d/${SPREADSHEET_ID}/export?format=csv&gid=0`;\n          \n          const response = await fetch(CSV_URL);\n          \n          if (!response.ok) {\n            throw new Error(`CSV export error: ${response.statusText}`);\n          }\n          \n          const csvText = await response.text();\n          \n          // Парсим CSV правильно (учитывая запятые в кавычках)\n          const lines = csvText.split('\\n');\n          const rows = lines.filter(line => line.trim()).map(line => {\n            const values = [];\n            let current = '';\n            let inQuotes = false;\n            \n            for (let i = 0; i < line.length; i++) {\n              const char = line[i];\n              \n              if (char === '\"') {\n                inQuotes = !inQuotes;\n              } else if (char === ',' && !inQuotes) {\n                values.push(current.trim());\n                current = '';\n              } else {\n                current += char;\n              }\n            }\n            \n            values.push(current.trim());\n            return values;\n          });\n          \n          // Преобразуем в FAQ формат\n          const faqItemsFromCSV = rows.map((row, index) => ({\n            id: `faq-${index + 1}`,\n            question: row[0] || '',\n            answer: row[1] || '',\n            order: row[2] || (index + 1)\n          })).filter(item => item.question && item.answer);\n          \n          faqItems.value = faqItemsFromCSV;\n          console.log('FAQ items loaded from Google Sheets:', faqItemsFromCSV.length);\n          \n        } catch (csvError) {\n          console.error('CSV fetch error:', csvError);\n          // Если CSV не работает, используем fallback данные\n          faqItems.value = fallbackFaqItems;\n        }\n      }\n  } catch (err) {\n    console.error('Error fetching FAQ:', err);\n    error.value = 'Ошибка загрузки данных';\n    faqItems.value = fallbackFaqItems;\n  } finally {\n    loading.value = false;\n  }\n};\n\n// Вычисляемые свойства\nconst displayedItems = computed(() => {\n  return faqItems.value; // Показываем все FAQ элементы\n});\n\n// Создаем объект для хранения состояния каждой панели\nconst openPanels = ref({});\n\n// Функция для инициализации панелей\nconst initializePanels = () => {\n  const items = faqItems.value;\n  const newPanels = {};\n  items.forEach(item => {\n    newPanels[item.id] = false;\n  });\n  openPanels.value = newPanels;\n};\n\nconst togglePanel = (id) => {\n  const isCurrentlyOpen = openPanels.value[id];\n  \n  // Закрываем все панели\n  Object.keys(openPanels.value).forEach(panelId => {\n    openPanels.value[panelId] = false;\n  });\n\n  // Если панель была закрыта, открываем её\n  if (!isCurrentlyOpen) {\n    openPanels.value[id] = true;\n    \n    // Обновляем URL\n    const newUrl = `${window.location.pathname}#${id}`;\n    if (props.standalone) {\n      window.history.pushState(null, '', newUrl);\n    } else {\n      window.history.replaceState(null, '', newUrl);\n    }\n\n    // Скроллим к элементу\n    nextTick(() => {\n      const element = document.getElementById(id);\n      if (element) {\n        const offset = props.standalone ? 80 : 100;\n        const elementPosition = element.getBoundingClientRect().top;\n        const offsetPosition = elementPosition + window.pageYOffset - offset;\n        \n        window.scrollTo({\n          top: offsetPosition,\n          behavior: 'smooth'\n        });\n      }\n    });\n  } else {\n    // Если закрываем панель, убираем хеш из URL\n    const newUrl = window.location.pathname;\n    if (props.standalone) {\n      window.history.pushState(null, '', newUrl);\n    } else {\n      window.history.replaceState(null, '', newUrl);\n    }\n  }\n};\n\n// Обработчик изменения хеша в URL\nconst handleHashChange = () => {\n  const hash = window.location.hash.slice(1);\n  \n  // Закрываем все панели\n  Object.keys(openPanels.value).forEach(id => {\n    openPanels.value[id] = false;\n  });\n\n  // Если есть хеш и он соответствует существующему FAQ, открываем его\n  if (hash && faqItems.some(item => item.id === hash)) {\n    openPanels.value[hash] = true;\n    \n    nextTick(() => {\n      const element = document.getElementById(hash);\n      if (element) {\n        const offset = props.standalone ? 80 : 100;\n        const elementPosition = element.getBoundingClientRect().top;\n        const offsetPosition = elementPosition + window.pageYOffset - offset;\n        \n        window.scrollTo({\n          top: offsetPosition,\n          behavior: 'smooth'\n        });\n      }\n    });\n  }\n};\n\nonMounted(async () => {\n  const hash = route.hash.slice(1);\n  \n  // Загружаем FAQ данные\n  await fetchFAQ();\n  \n  // Ждем загрузки данных\n  await nextTick();\n  \n  // Инициализируем панели после загрузки данных\n  initializePanels();\n\n        // Если есть хеш, открываем соответствующую панель\n        if (hash && faqItems.value.some(item => item.id === hash)) {\n          openPanels.value[hash] = true;\n        } else if (faqItems.value.length > 0) {\n          // Открываем первый пункт всегда (и на главной, и на странице FAQ)\n          const firstItem = faqItems.value[0];\n          if (firstItem) {\n            openPanels.value[firstItem.id] = true;\n          }\n        }\n\n  // Добавляем слушатель изменения хеша только на странице FAQ\n  if (props.standalone) {\n    window.addEventListener('hashchange', handleHashChange);\n  }\n});\n\n// Функция для обновления данных\nconst handleRefresh = () => {\n  fetchFAQ();\n};\n\n// Экспортируем функции для использования в родительском компоненте\ndefineExpose({\n  refresh: handleRefresh\n});\n\n// Удаляем слушатель при размонтировании компонента\nonUnmounted(() => {\n  if (props.standalone) {\n    window.removeEventListener('hashchange', handleHashChange);\n  }\n});\n</script>\n\n<style scoped>\n.transform {\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.transition {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n}\n</style>\n"],"version":3}