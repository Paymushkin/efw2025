{"version":3,"file":"FaqSectionDynamic-Bs1eY5W4.js","sources":["../../../../constants/faqData.js","../../../../components/FaqSectionDynamic.vue"],"sourcesContent":["// Auto-generated FAQ data for Emirates Fashion Week\n// Last updated from Google Sheets: December 13, 2025\n// Spreadsheet ID: 1z3JLJVzDADNCa6oSq3R701xLB8K5yyuCFlPZpSMXa1s\n// Source: https://docs.google.com/spreadsheets/d/1z3JLJVzDADNCa6oSq3R701xLB8K5yyuCFlPZpSMXa1s/edit?gid=0\n\nexport const FAQ_DATA = [\n  {\n    id: 'faq-1',\n    question: 'Entry. Are visitor passes free? How do I get an invitation?',\n    answer: 'Yes, admission is free, but entry is by invitation only. Invitations can be requested via the VISIT button on our website. Our priority is to welcome buyers (Buyers consist of those purchasing for retail stores as well as for personal use) and fashion/personal stylists, followed by influencers and media representatives. We also invite VIP consumers interested in exclusive designer collections.',\n    order: 1\n  },\n  {\n    id: 'faq-2',\n    question: 'Audience. What\\'s the audience profile? How many invites are out?',\n    answer: 'As of October 15, 2025, there are 928 registrations for the event. For November 8 and 9, we expect 500+ daily attendees. The audience is diverse, with a majority from beauty, fashion, and creative industries—including influencers (32.8%), fashion stylists (25.6%), bloggers (19.6%), media representatives (16.4%), buyers (37.7%), and others (7.7%). Participants range from industry professionals to fashion-conscious individuals across the Middle East, CIS, Eastern Europe, and UAE.',\n    order: 2\n  },\n  {\n    id: 'faq-3',\n    question: 'Market. What is a popup market / popup corner / spot? When does it take place?',\n    answer: 'The popup market is a special daytime event held after the main fashion shows (November 10–11, Monday and Tuesday). It features 40 designer collections presented on the runway during the show days, which can be explored, tried on, and purchased. In addition, there are 60 showcase spots for beauty service providers—including nails, hair, skincare, cosmetology, fitness, wellness, clinics, dental studios, salons, and more.',\n    order: 3\n  },\n  {\n    id: 'faq-4',\n    question: 'Beauty Services. What are some example brands in the business showcase corner?',\n    answer: 'Over 30 brands are confirmed — including designers from the Middle East, CIS, Eastern Europe, and local UAE talents. We also host a wide range of beauty service providers: clinics, plastic surgery, botox, fitness, cosmetology, nails, lashes, brows, hair, and styling.',\n    order: 4\n  },\n  {\n    id: 'faq-5',\n    question: 'Dates. 8-9 November: Runways vs 10-11 November: Pop-up & Beauty Market',\n    answer: 'On November 8–9 we\\'ll have the evening runway shows — so the audience will be much larger, but they\\'ll be mainly focused on watching the shows continuously. There will be less time and space for visitors to stop by the pop-ups in the corridors. On November 10–11, however, the audience will have the entire day (10 AM – 6 PM) to explore all the stands calmly — to touch the clothes, discover brands, and interact with designers and beauty services. So: 8–9 November: bigger audience, but you\\'ll be competing for attention with the entertainment and runway program. 10–11 November: smaller but more attentive audience, fully dedicated to visiting the market. Also, on November 8–9 we\\'ll feature only about 10–15 brands in the corridors to avoid blocking guest flow, while on November 10–11 we expect around 60 beauty services and 20–40 fashion corners in the main market area.',\n    order: 5\n  },\n  {\n    id: 'faq-6',\n    question: 'Fakes Policy',\n    answer: 'We\\'ve identified fraudulent accounts and websites impersonating Emirates Fashion Week. These fake profiles attempt to mislead designers and the public by copying our name and visuals. Please note that our only official pages are @emirates_fashionweek on Instagram (black logo with blue verified badge) and our website www.emiratesfashionweeks.com. We never request payments via links or personal messages. If you see suspicious activity, report it immediately and verify any event information through our authentic channels. Your safety and trust matter — always follow and tag only our verified accounts for official updates and participation details.',\n    order: 6\n  },\n  {\n    id: 'faq-7',\n    question: 'LeadGen. What is the AI matchmaking tool? How does it work?',\n    answer: 'The AI matchmaking tool is available on laptops at each exhibitor spots. Organizers will introduce at least 50 visitor leads to every exhibitor through chat. Some visitors will approach the station directly, while others will be connected via chat for online introductions and follow-ups.',\n    order: 7\n  }\n];\n\n","<template>\n  <section ref=\"sectionRef\" :id=\"props.id\" :class=\"[\n    'container mx-auto px-4',\n    { 'py-20 md:py-[100px]': !standalone },\n    { 'py-[60px] md:py-[120px]': standalone }\n  ]\">\n  <h2 class=\"text-xl md:text-3xl xl:text-4xl mb-8 md:mb-12\">\n      <template v-if=\"standalone\">\n        <a href=\"#faq\" class=\"hover:opacity-80 transition-opacity\">Frequently Asked Questions</a>\n      </template>\n      <template v-else>\n        <a href=\"#faq\" class=\"hover:opacity-80 transition-opacity\">FREQUENTLY ASKED QUESTIONS</a>\n      </template>\n    </h2>\n    \n    <!-- Индикатор загрузки -->\n    <div v-if=\"loading\" class=\"flex justify-center items-center py-8\">\n      <div class=\"text-gray-500\">Loading Frequently Asked Questions...</div>\n    </div>\n\n    <!-- Сообщение об ошибке -->\n    <div v-else-if=\"error\" class=\"text-center py-8\">\n      <div class=\"text-red-500 mb-4\">Error loading Frequently Asked Questions: {{ error }}</div>\n      <button \n        @click=\"handleRefresh\"\n        class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n      >\n        Retry\n      </button>\n    </div>\n\n    <!-- FAQ контент -->\n    <div v-else class=\"flex flex-col gap-4\">\n      <div\n        v-for=\"item in displayedItems\"\n        :key=\"item.id\"\n        :id=\"item.id\"\n      >\n        <div \n          class=\"border border-black cursor-pointer\"\n          @click=\"togglePanel(item.id)\"\n        >\n          <div \n            class=\"w-full p-4 md:p-6 flex justify-between items-start hover:bg-gray-50\"\n            :class=\"{ 'border-b border-black': openPanels[item.id] }\"\n          >\n            <span class=\"text-base md:text-xl xl:text-2xl pr-8 text-left\">{{ item.question }}</span>\n            <span \n              class=\"text-2xl transform transition-transform duration-300 flex-shrink-0\"\n              :class=\"{ 'rotate-45': openPanels[item.id] }\"\n            >+</span>\n          </div>\n\n          <transition\n            enter-active-class=\"transition duration-500 ease-out\"\n            enter-from-class=\"transform scale-y-95 -translate-y-1 opacity-0\"\n            enter-to-class=\"transform scale-y-100 translate-y-0 opacity-100\"\n            leave-active-class=\"transition duration-400 ease-in-out\"\n            leave-from-class=\"transform scale-y-100 translate-y-0 opacity-100\"\n            leave-to-class=\"transform scale-y-95 -translate-y-1 opacity-0\"\n          >\n            <div \n              v-show=\"openPanels[item.id]\"\n              class=\"p-4 md:p-6 text-sm md:text-base xl:text-lg text-black-70 border-t border-black origin-top\"\n            >\n              {{ item.answer }}\n            </div>\n          </transition>\n        </div>\n      </div>\n    </div>\n\n  </section>\n</template>\n\n<script setup>\nimport { ref, onMounted, nextTick, computed, onUnmounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { FAQ_DATA } from '~/constants/faqData';\n\ndefineOptions({\n  inheritAttrs: false\n});\n\nconst props = defineProps({\n  standalone: {\n    type: Boolean,\n    default: false\n  },\n  id: {\n    type: String,\n    default: undefined\n  }\n});\n\nconst route = useRoute();\nconst initialHash = ref(route.hash.slice(1));\nconst displayLimit = 5;\n\n// Состояние для FAQ данных\nconst faqItems = ref([]);\nconst loading = ref(false);\nconst error = ref('');\nconst isClient = ref(false);\nconst sectionRef = ref(null);\n\n// Статические FAQ данные для SSR (загружаем из файла)\nconst staticFaqItems = FAQ_DATA;\n\n// Функция для загрузки FAQ данных (используем тот же подход, что и у компаний)\nconst fetchFAQ = async () => {\n  try {\n    loading.value = true;\n    error.value = '';\n    \n      // Определяем, работаем ли мы локально или на продакшене\n      const isLocal = window.location.hostname.includes('localhost') || \n                     window.location.hostname.includes('127.0.0.1') ||\n                     window.location.hostname.includes('0.0.0.0');\n      \n      if (isLocal) {\n        // Локально используем API\n        try {\n          const response = await $fetch('/api/faq', {\n            query: { _t: Date.now() } // Добавляем timestamp для предотвращения кеширования\n          });\n          if (response.success) {\n            faqItems.value = response.faq || [];\n          } else {\n            error.value = response.error || 'Ошибка загрузки данных';\n          }\n        } catch (apiError) {\n          console.error('API error:', apiError);\n          // Если API не работает, используем fallback данные\n          faqItems.value = staticFaqItems;\n        }\n      } else {\n        // На продакшене (GitHub Pages) используем прямые запросы к Google Sheets\n        try {\n          const SPREADSHEET_ID = '1z3JLJVzDADNCa6oSq3R701xLB8K5yyuCFlPZpSMXa1s';\n          const CSV_URL = `https://docs.google.com/spreadsheets/d/${SPREADSHEET_ID}/export?format=csv&gid=0`;\n          \n          const response = await fetch(CSV_URL);\n          \n          if (!response.ok) {\n            throw new Error(`CSV export error: ${response.statusText}`);\n          }\n          \n          const csvText = await response.text();\n          \n          // Парсим CSV правильно (учитывая запятые в кавычках)\n          const lines = csvText.split('\\n');\n          const rows = lines.filter(line => line.trim()).map(line => {\n            const values = [];\n            let current = '';\n            let inQuotes = false;\n            \n            for (let i = 0; i < line.length; i++) {\n              const char = line[i];\n              \n              if (char === '\"') {\n                inQuotes = !inQuotes;\n              } else if (char === ',' && !inQuotes) {\n                values.push(current.trim());\n                current = '';\n              } else {\n                current += char;\n              }\n            }\n            \n            values.push(current.trim());\n            return values;\n          });\n          \n          // Преобразуем в FAQ формат\n          const faqItemsFromCSV = rows.map((row, index) => ({\n            id: `faq-${index + 1}`,\n            question: row[0] || '',\n            answer: row[1] || '',\n            order: row[2] || (index + 1)\n          })).filter(item => item.question && item.answer);\n          \n          faqItems.value = faqItemsFromCSV;\n          console.log('FAQ items loaded from Google Sheets:', faqItemsFromCSV.length);\n          \n        } catch (csvError) {\n          console.error('CSV fetch error:', csvError);\n          // Если CSV не работает, используем fallback данные\n          faqItems.value = staticFaqItems;\n        }\n      }\n  } catch (err) {\n    console.error('Error fetching FAQ:', err);\n    error.value = 'Ошибка загрузки данных';\n    faqItems.value = staticFaqItems;\n  } finally {\n    loading.value = false;\n  }\n};\n\n// Вычисляемые свойства\nconst displayedItems = computed(() => {\n  // На сервере показываем статические данные\n  if (!isClient.value) {\n    return staticFaqItems;\n  }\n  // На клиенте показываем загруженные данные (или статические, если загрузка не удалась)\n  return faqItems.value.length > 0 ? faqItems.value : staticFaqItems;\n});\n\n// Создаем объект для хранения состояния каждой панели\nconst openPanels = ref({});\n\n// Функция для инициализации панелей\nconst initializePanels = () => {\n  const items = displayedItems.value;\n  const newPanels = {};\n  items.forEach(item => {\n    newPanels[item.id] = false;\n  });\n  openPanels.value = newPanels;\n};\n\nconst togglePanel = (id) => {\n  const isCurrentlyOpen = openPanels.value[id];\n  \n  // Закрываем все панели\n  Object.keys(openPanels.value).forEach(panelId => {\n    openPanels.value[panelId] = false;\n  });\n\n  // Если панель была закрыта, открываем её\n  if (!isCurrentlyOpen) {\n    openPanels.value[id] = true;\n    \n    // Обновляем URL\n    const newUrl = `${window.location.pathname}#${id}`;\n    if (props.standalone) {\n      window.history.pushState(null, '', newUrl);\n    } else {\n      window.history.replaceState(null, '', newUrl);\n    }\n\n    // Скроллим к элементу\n    nextTick(() => {\n      const element = document.getElementById(id);\n      if (element) {\n        const offset = props.standalone ? 80 : 100;\n        const elementPosition = element.getBoundingClientRect().top;\n        const offsetPosition = elementPosition + window.pageYOffset - offset;\n        \n        window.scrollTo({\n          top: offsetPosition,\n          behavior: 'smooth'\n        });\n      }\n    });\n  } else {\n    // Если закрываем панель, убираем хеш из URL\n    const newUrl = window.location.pathname;\n    if (props.standalone) {\n      window.history.pushState(null, '', newUrl);\n    } else {\n      window.history.replaceState(null, '', newUrl);\n    }\n  }\n};\n\n// Обработчик изменения хеша в URL\nconst handleHashChange = () => {\n  const hash = window.location.hash.slice(1);\n  \n  // Закрываем все панели\n  Object.keys(openPanels.value).forEach(id => {\n    openPanels.value[id] = false;\n  });\n\n  // Если есть хеш и он соответствует существующему FAQ, открываем его\n  if (hash && displayedItems.value.some(item => item.id === hash)) {\n    openPanels.value[hash] = true;\n    \n    nextTick(() => {\n      const element = document.getElementById(hash);\n      if (element) {\n        const offset = props.standalone ? 80 : 100;\n        const elementPosition = element.getBoundingClientRect().top;\n        const offsetPosition = elementPosition + window.pageYOffset - offset;\n        \n        window.scrollTo({\n          top: offsetPosition,\n          behavior: 'smooth'\n        });\n      }\n    });\n  }\n};\n\nonMounted(async () => {\n  isClient.value = true;\n  const hash = route.hash.slice(1);\n  \n  // Явно устанавливаем ID на корневой элемент\n  await nextTick();\n  if (process.client && props.id && sectionRef.value) {\n    sectionRef.value.id = props.id;\n  }\n  \n  // Инициализируем панели сразу со статическими данными\n  faqItems.value = staticFaqItems;\n  initializePanels();\n  \n  // Загружаем актуальные FAQ данные в фоне\n  await fetchFAQ();\n  \n  // Ждем загрузки данных\n  await nextTick();\n  \n  // Обновляем панели после загрузки актуальных данных\n  initializePanels();\n\n        // Если есть хеш, открываем соответствующую панель\n        if (hash && displayedItems.value.some(item => item.id === hash)) {\n          openPanels.value[hash] = true;\n        } else if (displayedItems.value.length > 0) {\n          // Открываем первый пункт всегда (и на главной, и на странице FAQ)\n          const firstItem = displayedItems.value[0];\n          if (firstItem) {\n            openPanels.value[firstItem.id] = true;\n          }\n        }\n\n  // Добавляем слушатель изменения хеша только на странице FAQ\n  if (props.standalone) {\n    window.addEventListener('hashchange', handleHashChange);\n  }\n});\n\n// Функция для обновления данных\nconst handleRefresh = () => {\n  fetchFAQ();\n};\n\n// Экспортируем функции для использования в родительском компоненте\ndefineExpose({\n  refresh: handleRefresh\n});\n\n// Удаляем слушатель при размонтировании компонента\nonUnmounted(() => {\n  if (props.standalone) {\n    window.removeEventListener('hashchange', handleHashChange);\n  }\n});\n</script>\n\n<style scoped>\n.transform {\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.transition {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n}\n</style>\n"],"names":["_ssrRenderList","_ssrInterpolate"],"mappings":"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"}